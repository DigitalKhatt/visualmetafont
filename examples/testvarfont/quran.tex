%\directlua{require('mobdebug').start()}
\documentclass{article}
\usepackage[paperwidth=90mm,paperheight=145.62297mm, left=2.108mm,right=2.108mm,top=2mm,bottom=2mm]{geometry}
\usepackage{graphicx}
\usepackage{bookmark}
\usepackage[maxStretchPercentage=0,maxShrinkPercentage=-1,fontExpansion=false]{digitalkhatt}

\input{quran_style}
\hbadness=100000
\begin{document}
\newif\ifmadina
%
\directlua{
tex.print("\\disableDKJust")  
if arg then
    for i,v in ipairs(arg) do
        if v == "-just" then
            tex.print("\\enableDKJust")  
        elseif v == "-madina" then
            tex.print("\\madinatrue")  
        end
    end
end
}

\setbox\ayaframe=\ayagraphic
\ifmadina%
%\medinafontvarmadina\pagedir TRT\pardir TRT\bodydir TRT\textdir TRT
\font\medinafontvarmadinaii={file:digitalkhatt-cff2.otf:mode=digitalkhatt;shaper=ot;script=arab;variableshapes;colr;tjwd;-fixedspace} at 4.77mm
\medinafontvarmadinaii\pagedir TRT\pardir TRT\bodydir TRT\textdir TRT
\else
\medinafontvar\pagedir TRT\pardir TRT\bodydir TRT\textdir TRT
\fi

%\tolerance10000
%add looseness at the start of the third page = 13 - number lines in last page or (- number lines in last page)
%\looseness8
%\sloppy
\emergencystretch5em
\ifmadina\input{quran_text_madina}\else\input{quran_text}\fi
%\centerline{\hbox to0.5\textwidth{سِ ۝٦}}
%{\disableDKFontSizing\centerline{\hbox to0.5\textwidth{مِنَ ٱلْجِنَّةِ وَٱلنَّاسِ ۝٦}}}
\end{document} 